(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();const l={value:0,unit:null},g={name:"",quantifierA:l,quantifierB:l},f={NEW_ENTRY:g},c=(n,e)=>{let t=n.querySelector(`#${e}`);return t||(t=document.createElement("div"),t.setAttribute("id",e),n.appendChild(t)),t},d=n=>{if(!n)return"";const{value:e,unit:t}=n;return`${e}${t}`},_=()=>{const n=document.documentElement,e=n.dataset.theme==="dark";n.dataset.theme=e?"light":"dark";const t=document.getElementById("toggle");t&&(t.innerText=e?"üåô":"‚òÄÔ∏è")},m=(n,e)=>{const t=Array.from({length:n.length},()=>new Array(e.length));for(let s=0;s<n.length;s++)t[s][0]=s;for(let s=0;s<e.length;s++)t[0][s]=s;for(let s=1;s<n.length;s++)for(let r=1;r<e.length;r++)n[s]===e[r]?t[s][r]=t[s-1][r-1]:t[s][r]=Math.min(t[s][r-1]+1,t[s-1][r]+1,t[s-1][r-1]+1);return t[n.length-1][e.length-1]},a=(n,e)=>{if(n.length===0)return e.length>0?1:0;if(e.length===0)return 1;let t=0;for(const s of n){let r=1/0;for(const o of e){const i=m(s,o);if(i<r&&(r=i),r===0)break}t+=r}return t/n.length};class p{tokenisedWords=[];constructor(e){for(const t of e)this.tokenisedWords.push({tokens:t.split(" "),original:t})}query(e){return this.tokenisedWords.slice().sort((s,r)=>a(e,s.tokens)-a(e,r.tokens)).map(s=>s.original)}size(){return this.tokenisedWords.length}}class v{state;object;_current_focus;cursor_row_idx;cursor_col_idx;constructor(e){this.object=e,this.cursor_row_idx=-1,this.cursor_col_idx=-1,this.state=[],this._current_focus=null}placeCaretAtEnd(e){const t=document.createRange(),s=window.getSelection();s&&(t.selectNodeContents(e),t.collapse(!1),s.removeAllRanges(),s.addRange(t))}renderEntry(e){e===void 0&&(e=this.cursor_row_idx);const t=c(this.object,`entry-${e}`);t.setAttribute("class","entry");const s=this.state[e];if(!s)throw new Error("TextBox(renderEntry): No Entry to Render");const{name:r,quantifierA:o,quantifierB:i}=s;t.innerHTML=`
		<div id="c0">${r}</div>
		<div id="c1">${d(o)}</div>
		<div id="c2">${d(i)}</div>
		`,this.object.appendChild(t)}newEntry(){this.state.push({...f.NEW_ENTRY});const e=c(this.object,`entry-${this.cursor_row_idx}`);e.setAttribute("class","entry"),e.innerHTML=`
        <div class="container">
		<div class="cell"" inputmode="search" data-col="0"></div>
        </div>
		<div class="cell" inputmode="decimal" data-col="1"></div>
		<div class="cell" inputmode="decimal" data-col="2"></div>
		`}onInput=()=>{if(!this.current_focus)return;let e=this.state[this.cursor_row_idx];switch(this.cursor_col_idx){case 0:e.name=this.current_focus.innerText;let t=document.getElementById("suggest");if(!t)break;t.innerHTML="<ul>"+h.query(e.name.split(" ")).map((r,o)=>`<li data-col="${o}">`+r+"</li>").join(" ")+"</ul>",t.querySelectorAll("li").forEach(r=>{r.addEventListener("mousedown",o=>{const i=Number(r.dataset.col);o.preventDefault(),this.selectSuggestion(i),this.destroySuggestionBox()})}),this.highlightSuggestion();break;case 1:break;case 2:break;default:throw new Error("Invalid cursor_col_idx")}};destroySuggestionBox=()=>{document.getElementById("suggest")?.remove()};selectionIndex=0;suggestionsBox=(()=>{this.selectionIndex=0;const e=document.createElement("div");return e.id="suggest",e.classList.add("suggestions","hide-scrollbar"),e})();onFocusShowSuggestions=()=>{const e=this.suggestionsBox;this._current_focus?.after(e),this.selectionIndex=0,this.highlightSuggestion()};selectSuggestion=(e=this.selectionIndex)=>{const t=document.getElementById("suggest");if(!t||!this.current_focus)return;const s=t?.querySelector(`[data-col="${e}"]`);s&&this.current_focus&&(this.current_focus.innerText=s.innerText,this.destroySuggestionBox(),this.advanceCursor())};highlightSuggestion(){document.getElementById("suggest")?.querySelectorAll("li").forEach((t,s)=>{s===this.selectionIndex?t.classList.add("highlighted"):t.classList.remove("highlighted")})}handleSuggestSelection=e=>{e.key==="."&&e.shiftKey||e.key===">"?(e.preventDefault(),this.selectionIndex!=0&&(this.selectionIndex=this.selectionIndex-1),console.log("Retr"),this.highlightSuggestion()):e.key==="."&&(e.preventDefault(),this.selectionIndex=(this.selectionIndex+1)%h.size(),this.highlightSuggestion(),console.log("Adv")),e.key==="Enter"&&(e.preventDefault(),this.selectSuggestion(this.selectionIndex))};set current_focus(e){this._current_focus?.removeEventListener("keydown",this.handleSuggestSelection),this._current_focus?.removeEventListener("input",this.onInput),this._current_focus?.removeEventListener("blur",this.destroySuggestionBox),this._current_focus?.removeEventListener("focus",this.onFocusShowSuggestions),this._current_focus=e,this._current_focus?.addEventListener("input",this.onInput),this.cursor_col_idx===0&&(this._current_focus?.addEventListener("blur",this.destroySuggestionBox),this._current_focus?.addEventListener("focus",this.onFocusShowSuggestions),this._current_focus?.addEventListener("keydown",this.handleSuggestSelection))}get current_focus(){return this._current_focus}advanceCursor=()=>{this.current_focus&&this.current_focus.removeAttribute("contenteditable"),(this.cursor_col_idx=(this.cursor_col_idx+1)%3)===0&&(console.log("End of row - creating new entry"),this.cursor_row_idx++,document.getElementById(`entry-${this.cursor_row_idx}`)||this.newEntry());const e=c(this.object,`entry-${this.cursor_row_idx}`);if(this.current_focus=e.querySelector(`[data-col="${this.cursor_col_idx}"]`),!this.current_focus)throw new Error("Cell does not exist");this.current_focus.setAttribute("contenteditable","true"),this.current_focus.focus({preventScroll:!0}),this.placeCaretAtEnd(this.current_focus)};retreatCursor=()=>{if(this.cursor_row_idx<=0&&this.cursor_col_idx<=0){console.log("Cannot retreat cursor"),this.current_focus&&this.current_focus.focus({preventScroll:!0});return}this.current_focus&&this.current_focus.removeAttribute("contenteditable"),this.cursor_col_idx--,this.cursor_col_idx<0&&(this.cursor_col_idx=2,this.cursor_row_idx--);const e=c(this.object,`entry-${this.cursor_row_idx}`);if(this.current_focus=e.querySelector(`[data-col="${this.cursor_col_idx}"]`),!this.current_focus)throw new Error("Cell does not exist");this.current_focus.setAttribute("contenteditable","true"),this.current_focus.focus({preventScroll:!0}),this.placeCaretAtEnd(this.current_focus)}}document.querySelector("#app").innerHTML=`
<div>
	<h1>Workaround</h1>
	<div id="textbox" class="textbox"></div>
		<div class="navigation">
			<button id="tab-l">‚Üê</button>
			<button id="tab-r">‚Üí</button>
		</div>
	</div>
</div>
`;const u=new v(document.getElementById("textbox")),h=new p(["barbell back squat","front squat","box squat","pause squat","barbell bench press","close grip bench press","incline bench press","decline bench press","overhead press","push press","deadlift conventional","sumo deadlift","romanian deadlift","trap bar deadlift","power clean","hang clean","clean and jerk","power snatch","hang snatch","snatch pull","clean pull","pull up","chin up","lat pulldown","barbell row","pendlay row","dumbbell row","seated cable row","face pull","rear delt fly","lateral raise","front raise","dumbbell bench press","dumbbell shoulder press","arnold press","dips weighted","skull crushers","triceps pushdown","overhead triceps extension","bulgarian split squat","walking lunges","reverse lunges","step ups","leg press","hack squat","leg curl lying","leg curl seated","leg extension","hip thrust","glute bridge","hanging leg raise","ab wheel rollout","plank weighted","farmer carry","suitcase carry","standing calf raise","seated calf raise","sled push","prowler sprint"]);document.getElementById("tab-r")?.addEventListener("click",u.advanceCursor);document.getElementById("tab-l")?.addEventListener("click",u.retreatCursor);document.addEventListener("keydown",n=>{n.key==="Tab"&&n.shiftKey?(n.preventDefault(),u.retreatCursor()):n.key==="Tab"&&(n.preventDefault(),u.advanceCursor())});document.getElementById("toggle")?.addEventListener("click",_);document.documentElement.dataset.theme=document.documentElement.dataset.theme==="dark"?"light":"dark";
